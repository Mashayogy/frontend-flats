<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Flats Alerts Portugal</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div id="main-container">
        <!-- TABS -->
        <div class="tabs">
            <button class="tab-btn active" onclick="switchTab('search')">üîç –ü–æ–∏—Å–∫</button>
            <button class="tab-btn" onclick="switchTab('results')">üè† –û–±—ä—è–≤–ª–µ–Ω–∏—è</button>
            <button class="tab-btn" onclick="switchTab('map')">üó∫ –ö–∞—Ä—Ç–∞</button>
        </div>

        <!-- SEARCH TAB -->
        <div id="tab-search" class="tab-content active">
            <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–∏—Å–∫–∞</h2>

            <div class="form-group">
                <label>–¢–∏–ø –∂–∏–ª—å—è</label>
                <div class="pill-group" id="property-type">
                    <div class="pill" data-value="flat" onclick="togglePill(this, 'property-type')">–ö–≤–∞—Ä—Ç–∏—Ä–∞</div>
                    <div class="pill" data-value="room" onclick="togglePill(this, 'property-type')">–ö–æ–º–Ω–∞—Ç–∞</div>
                    <div class="pill" data-value="house" onclick="togglePill(this, 'property-type')">–î–æ–º</div>
                </div>
            </div>

            <div class="form-group">
                <label>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–º–Ω–∞—Ç</label>
                <div class="pill-group" id="rooms">
                    <div class="pill" data-value="T0" onclick="togglePill(this, 'rooms')">–°—Ç—É–¥–∏—è</div>
                    <div class="pill" data-value="T1" onclick="togglePill(this, 'rooms')">1</div>
                    <div class="pill" data-value="T2" onclick="togglePill(this, 'rooms')">2</div>
                    <div class="pill" data-value="T3" onclick="togglePill(this, 'rooms')">3</div>
                    <div class="pill" data-value="T4+" onclick="togglePill(this, 'rooms')">4+</div>
                </div>
            </div>

            <div class="form-group">
                <label>–¶–µ–Ω–∞ (‚Ç¨/–º–µ—Å)</label>
                <div class="range-inputs">
                    <input type="number" id="price-min" placeholder="–û—Ç">
                    <input type="number" id="price-max" placeholder="–î–æ">
                </div>
            </div>

            <div class="form-group">
                <label>–ü–ª–æ—â–∞–¥—å (–º¬≤)</label>
                <div class="range-inputs">
                    <input type="number" id="area-min" placeholder="–û—Ç">
                    <input type="number" id="area-max" placeholder="–î–æ">
                </div>
            </div>

            <div class="form-group">
                <label>–ü–ª–æ—â–∞–¥—å –∫—É—Ö–Ω–∏ (–º¬≤)</label>
                <div class="range-inputs">
                    <input type="number" id="kitchen-min" placeholder="–û—Ç">
                    <input type="number" id="kitchen-max" placeholder="–î–æ">
                </div>
            </div>

            <div class="form-group">
                <label>–≠—Ç–∞–∂</label>
                <div class="range-inputs" style="margin-bottom: 8px;">
                    <input type="number" id="floor-min" placeholder="–û—Ç">
                    <input type="number" id="floor-max" placeholder="–î–æ">
                </div>
                <div class="pill-group" id="floor">
                    <div class="pill" data-value="not_first" onclick="togglePill(this, 'floor')">–ù–µ –ø–µ—Ä–≤—ã–π</div>
                    <div class="pill" data-value="not_last" onclick="togglePill(this, 'floor')">–ù–µ –ø–æ—Å–ª–µ–¥–Ω–∏–π</div>
                    <div class="pill" data-value="only_last" onclick="togglePill(this, 'floor')">–¢–æ–ª—å–∫–æ –ø–æ—Å–ª–µ–¥–Ω–∏–π</div>
                </div>
            </div>

            <div class="form-group">
                <label>–ö–æ–º–∏—Å—Å–∏—è –∞–≥–µ–Ω—Ç–∞</label>
                <label class="toggle-switch">
                    <input type="checkbox" id="no-commission">
                    <span class="slider"></span>
                    <span class="label-text">–ë–µ–∑ –∫–æ–º–∏—Å—Å–∏–∏</span>
                </label>
            </div>

            <div class="form-group">
                <label>–ö—Ç–æ –±—É–¥–µ—Ç –∂–∏—Ç—å</label>
                <div class="pill-group" id="rules">
                    <div class="pill" data-value="kids" onclick="togglePill(this, 'rules')">–ú–æ–∂–Ω–æ —Å –¥–µ—Ç—å–º–∏</div>
                    <div class="pill" data-value="pets" onclick="togglePill(this, 'rules')">–ú–æ–∂–Ω–æ —Å –∂–∏–≤–æ—Ç–Ω—ã–º–∏</div>
                </div>
                <p class="hint-text" style="font-size: 12px; color: #888; margin-top: 8px; line-height: 1.4;">
                    –Ø —Ñ–∏–ª—å—Ç—Ä—É—é —Ç–æ–ª—å–∫–æ —Ç–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è, –≥–¥–µ –∑–∞–ø—Ä–µ—Ç –ø—Ä–æ–ø–∏—Å–∞–Ω –ø—Ä—è–º–æ –≤ —Ç–µ–∫—Å—Ç–µ –æ–ø–∏—Å–∞–Ω–∏—è ‚Äì —Å —Ç–∞–∫–∏–º–∏ —Ö–æ–∑—è–µ–≤–∞–º–∏
                    –º–∞–ª–æ—Ä–µ–∞–ª—å–Ω–æ –¥–æ–≥–æ–≤–æ—Ä–∏—Ç—å—Å—è. –ù–æ –µ—Å–ª–∏ –∑–∞–ø—Ä–µ—Ç —É–∫–∞–∑–∞–Ω —Ç–æ–ª—å–∫–æ –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞—Ö –æ–±—ä—è–≤–ª–µ–Ω–∏—è, –∞ –≤ —Ç–µ–∫—Å—Ç–µ –Ω–∏—á–µ–≥–æ
                    –Ω–µ—Ç, —Ç–æ —Å—Ç–æ–∏—Ç –ø—Ä–æ–±–æ–≤–∞—Ç—å. –í —Ö–æ—Ä–æ—à–∏—Ö –∫–≤–∞—Ä—Ç–∏—Ä–∞—Ö —á–∞—Å—Ç–æ –∑–∞–ø—Ä–µ—â–∞—é—Ç –∂–∏–≤–æ—Ç–Ω—ã—Ö –∏ –¥–µ—Ç–µ–π –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –Ω–µ
                    –æ–±–¥—É–º—ã–≤–∞—è —ç—Ç–æ –≤—Å–µ—Ä—å–µ–∑. –ï—Å–ª–∏ —Ç—ã –Ω–µ —Ö–æ—á–µ—à—å –æ–±—â–∞—Ç—å—Å—è —Å–∞–º(–∞), –æ–±—Ä–∞—Ç–∏—Å—å –≤ –Ω–∞—à –∫–æ–Ω—Å—å–µ—Ä–∂-—Å–µ—Ä–≤–∏—Å, –º—ã –¥–µ–ª–∞–µ–º
                    —ç—Ç–æ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ.
                </p>
            </div>

            <h3>üìç –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ</h3>
            <div class="form-group">
                <label>–†–µ–≥–∏–æ–Ω</label>
                <select id="region-select">
                    <option value="lisbon">–õ–∏—Å—Å–∞–±–æ–Ω</option>
                    <option value="porto" disabled>–ü–æ—Ä—Ç—É (—Å–∫–æ—Ä–æ)</option>
                </select>
            </div>

            <div class="form-group">
                <button class="action-btn" onclick="openMapDraw()">üó∫ –ù–∞—Ä–∏—Å–æ–≤–∞—Ç—å –æ–±–ª–∞—Å—Ç—å –Ω–∞ –∫–∞—Ä—Ç–µ</button>
            </div>

            <div class="form-group">
                <label>–í—Ä–µ–º—è –¥–æ –º–µ—Ç—Ä–æ</label>
                <div class="pill-group" id="metro-distance">
                    <div class="pill" data-value="5" onclick="selectOnePill(this, 'metro-distance')">–¥–æ 5 –º–∏–Ω</div>
                    <div class="pill" data-value="10" onclick="selectOnePill(this, 'metro-distance')">–¥–æ 10 –º–∏–Ω</div>
                    <div class="pill" data-value="15" onclick="selectOnePill(this, 'metro-distance')">–¥–æ 15 –º–∏–Ω</div>
                    <div class="pill" data-value="20" onclick="selectOnePill(this, 'metro-distance')">–¥–æ 20 –º–∏–Ω</div>
                    <div class="pill" data-value="25" onclick="selectOnePill(this, 'metro-distance')">–¥–æ 25 –º–∏–Ω</div>
                    <div class="pill" data-value="30" onclick="selectOnePill(this, 'metro-distance')">–¥–æ 30 –º–∏–Ω</div>
                    <div class="pill selected" data-value="any" onclick="selectOnePill(this, 'metro-distance')">–ù–µ –≤–∞–∂–Ω–æ
                    </div>
                </div>
            </div>

            <div class="form-group">
                <label>–û–∫—Ä—É–∂–µ–Ω–∏–µ</label>
                <div class="pill-group" id="environment">
                    <div class="pill" data-value="park" onclick="togglePill(this, 'environment')">–ü–∞—Ä–∫ —Ä—è–¥–æ–º</div>
                    <div class="pill" data-value="quiet" onclick="togglePill(this, 'environment')">–ë–µ–∑ —à—É–º–Ω—ã—Ö –¥–æ—Ä–æ–≥
                        —Ä—è–¥–æ–º</div>
                </div>
            </div>

            <h3>üîî –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</h3>
            <div class="form-group">
                <div class="pill-group" id="notification-type">
                    <div class="pill selected" data-value="new" onclick="selectOnePill(this, 'notification-type')">
                        –¢–æ–ª—å–∫–æ –Ω–æ–≤—ã–µ</div>
                    <div class="pill" data-value="all" onclick="selectOnePill(this, 'notification-type')">–í—Å–µ –ø–æ–¥—Ö–æ–¥—è—â–∏–µ
                    </div>
                </div>
                <p class="hint-text" style="font-size: 12px; color: #888; margin-top: 5px;">
                    "–í—Å–µ –ø–æ–¥—Ö–æ–¥—è—â–∏–µ" ‚Äî –ø—Ä–∏—à–ª—é –≤–∞–º —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –∫–≤–∞—Ä—Ç–∏—Ä —Å—Ä–∞–∑—É. "–¢–æ–ª—å–∫–æ –Ω–æ–≤—ã–µ" ‚Äî –±—É–¥—É –ø—Ä–∏—Å—ã–ª–∞—Ç—å
                    —Ç–æ–ª—å–∫–æ —Å–≤–µ–∂–∏–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è –ø–æ –º–µ—Ä–µ –∏—Ö –ø–æ—è–≤–ª–µ–Ω–∏—è.
                </p>
            </div>

        </div>

        <!-- RESULTS TAB -->
        <div id="tab-results" class="tab-content">
            <div id="ads-container">
                <div class="loading-spinner">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
            </div>
        </div>

        <!-- MAP TAB -->
        <div id="tab-map" class="tab-content">
            <div id="map-container" style="height: 400px; background: #eee;">
                Map will be here
            </div>
        </div>
    </div>

    <div class="main-button-container">
        <button id="main-btn" onclick="sendData()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø–æ–∏—Å–∫</button>
    </div>

    <script src="script.js"></script>
</body>

</html>